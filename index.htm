<html>

<head>
	<title>Учебник SVG</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<link rel="stylesheet" href="Highlight/styles/default.css">
	<script src="Highlight/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>

	<link rel="stylesheet" href="styles/style.css"/>
	<style>
		h2 {margin-top: 20px;}

		h3 {margin-top: 20px;}

		.sandbox {border: 1px solid #000;}

		.wrap {
			width: 1020px;
			border: 1px solid #ddd;
			margin: 0 auto;
		}

		.focus {
			font-weight: bold;
			font-size: 1.2em;
		}
	</style>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
	<script>
		jQuery(window).load(function () {
			$(".menu_intact").click(function () {
				document.location.href="line.htm";
			});
			$(".menu_examples").click(function () {
				document.location.href="examples.htm";
			});
			$(".menu_elements").click(function () {
				document.location.href="index.htm";
			});
			$(".menu_designs").click(function () {
				document.location.href="designs.htm";
			});
			$(".menu_tricks").click(function () {
				document.location.href="tricks.htm";
			});
		});
	</script>
</head>

<body>
	<div class="wrap">
		<!-- Меню -->
		<svg width="1020" height="45">
			<style type="text/css" media="screen">
				<![CDATA[
				.unsel{
					fill: #666;
				}

				.sel{
					fill: #d40;
				}

				.back{
					fill: #ccc;
				}

				.bott{
					fill: #bbb;
				}

				.font_s{
					fill: #ddd;
					font-family: sans-serif;
					font-weight: 600;
				}
				]]>
			</style>

			<path class="back" d="M0,0 L1020,0 L1020,40 L0,40 Z"/>
			<path class="bott" d="M0,40 L1020,40 L1020,45 L0,45 Z"/>

			<g transform="translate(0,0)" class="menu_elements">
				<!-- <path class="sel" id="1" d="M0,0L175,0L185,20L175,40L0,40Z"/>-->
				<path class="sel" id="1" d="M0,0L185,0L165,40L0,40Z"/>
				<text x="45" y="25" class="font_s">Элементы</text>
			</g>

			<g transform="translate(170,0)" class="menu_examples">
				<path class="unsel" id="2" d="M20,0L185,0L165,40L0,40Z"/>
				<text x="55" y="25" class="font_s">Примеры</text>
			</g>

			<g transform="translate(340,0)" class="menu_intact">
				<path class="unsel" id="3" d="M20,0L185,0L165,40L0,40Z"/>
				<text x="25" y="25" class="font_s">Интерактивность</text>
			</g>

			<g transform="translate(510,0)" class="menu_designs">
				<path class="unsel" id="4" d="M20,0L185,0L165,40L0,40Z"/>
				<text x="55" y="25" class="font_s">Дизайны</text>
			</g>

			<g transform="translate(680,0)" class="menu_redactor">
				<path class="unsel" id="5" d="M20,0L185,0L165,40L0,40Z"/>
				<text x="55" y="25" class="font_s">Редактор</text>
			</g>

			<g transform="translate(850,0)" class="menu_tricks">
				<path class="unsel" id="6" d="M20,0L170,0L170,40L0,40Z"/>
				<text x="65" y="25" class="font_s">Трюки</text>
			</g>

		</svg>
		<!-- /Меню -->
		<br><br>
		Для начала, <a href="http://caniuse.com/#feat=svg">поддержка SVG в различных браузерах</a>
		<h2>Общие свойства</h2>
		Все элементы SVG имеют свойства fill, stroke, stroke-width, font и так далее. Но их лучше задавать в виде стилей. Все линии необходимо "обвести" после рисования свойством stroke.
		<h2>Линейные элементы</h2>

		<h3>Элемент line</h3>
		Самый простой элемент в SVG. Он имеет такой синтаксис:
		<pre><code>
&lt;line x1=&quot;50&quot; y1=&quot;100&quot; x2=&quot;200&quot; y2=&quot;30&quot;/&gt;
		</code></pre>
		<svg width="250" height="150" class="sandbox">
			<line x1="50" y1="100" x2="200" y2="30" stroke="#000"/>
		</svg>

		<h3>Элемент rect</h3>
		Предназначен для рисования прямоугольников.
		<pre><code>
&lt;circle x=&quot;50&quot; y=&quot;30&quot; width=&quot;150&quot; height=&quot;70&quot;/&gt;
		</code></pre>
		<svg width="250" height="150" class="sandbox">
			<rect x="50" y="30" width="150" height="70" stroke="#000" fill="#fff"/>
		</svg>

		<h3>Элемент circle</h3>
		Предназначен для рисования окружностей.
		<pre><code>
&lt;circle cx=&quot;130&quot; cy=&quot;130&quot; r=&quot;50&quot;/&gt;
		</code></pre>
		<svg width="250" height="150" class="sandbox">
			<circle cx="130" cy="70" r="50" stroke="#000" fill="#fff"/>
		</svg>

		<h3>Элемент text</h3>
		Предназначен для вывода текста.
		<pre><code>
&lt;text x=&quot;50&quot; y=&quot;70&quot;/&gt;Текст&lt;/&gt;
		</code></pre>
		<svg width="250" height="150" class="sandbox">
			<text x="50" y="70">Текст</text>
		</svg>

		<h3>Элемент g</h3>
		Любые элементы в SVG можно объединять в группы, и после этого применять к группе трансформацию или назначать стиль.
		<pre><code>
&lt;text x=&quot;50&quot; y=&quot;70&quot;/&gt;Текст&lt;/&gt;
		</code></pre>
		<svg width="250" height="150" class="sandbox">
			<text x="50" y="70">Текст</text>
		</svg>

		<h2>Преобразования</h2>

		<h3>Transform</h3>
		Есть несколько вариантов - translate, rotate, scale. Все трансформации производятся из точки (0,0) объекта.
		<pre><code>
&lt;circle cx="70" cy="75" r="30" stroke="#000" fill="#fff"/&gt;
&lt;circle <span class="focus">transform="translate(100,0)"</span> cx="70" cy="75" r="30"/&gt;
&lt;circle <span class="focus">transform="translate(200,0)"</span> cx="70" cy="75" r="30"/&gt;
&lt;rect <span class="focus">transform="translate(400,75)"</span> x="-30" y="-30" width="60" height="60"/&gt;
&lt;rect <span class="focus">transform="translate(500,75) rotate(20)"</span> x="-30" y="-30" width="60" height="60"/&gt;
&lt;rect <span class="focus">transform="translate(580,75) rotate(40) scale(1.5)"</span> x="-30" y="-30" width="60" height="60"/&gt;
		</code></pre>
		<svg width="650" height="150" class="sandbox">
			<circle cx="70" cy="75" r="30" stroke="#000" fill="#fff"/>
			<circle transform="translate(90,0)" cx="70" cy="75" r="30" stroke="#000" fill="#fff"/>
			<circle transform="translate(180,0)" cx="70" cy="75" r="30" stroke="#000" fill="#fff"/>
			<rect transform="translate(350,75)" x="-30" y="-30" width="60" height="60" stroke="#000" fill="#fff"/>
			<rect transform="translate(450,75) rotate(20)" x="-30" y="-30" width="60" height="60" stroke="#000" fill="#fff"/>
			<rect transform="translate(580,75) rotate(40) scale(1.5)" x="-30" y="-30" width="60" height="60" stroke="#000" fill="#fff"/>
		</svg><br><br>

		Применим преобразования к группам:
		<pre><code>
&lt;g transform="<span class="focus">translate(40,20)</span>"&gt;
	&lt;line x1="10" y1="20" x2="10" y2="60" stroke-width="2"/&gt;
	&lt;circle cx="10" cy="20" r="10"/&gt;			
	&lt;circle cx="10" cy="60" r="10"/&gt;
&lt;/g&gt;
&lt;g transform="<span class="focus">translate(90,20)</span>"&gt;
	&lt;line x1="10" y1="20" x2="10" y2="60" stroke-width="2"/&gt;
	&lt;circle cx="10" cy="20" r="10"/&gt;			
	&lt;circle cx="10" cy="60" r="10"/&gt;
&lt;/g&gt;
&lt;g transform="<span class="focus">translate(140,20)</span>"&gt;
	&lt;line x1="10" y1="20" x2="10" y2="60" stroke-width="2"/&gt;
	&lt;circle cx="10" cy="20" r="10"/&gt;			
	&lt;circle cx="10" cy="60" r="10"/&gt;
&lt;/g&gt;
		</code></pre>
		<svg width="650" height="150" class="sandbox">
			<g transform="translate(40,20)">
				<line x1="10" y1="20" x2="10" y2="60" stroke="#000" stroke-width="2"/>
				<circle cx="10" cy="20" r="10" stroke="#000" fill="#fff"/>			
				<circle cx="10" cy="60" r="10" stroke="#000" fill="#fff"/>
			</g>
			<g transform="translate(90,20)">
				<line x1="10" y1="20" x2="10" y2="60" stroke="#000" stroke-width="2"/>
				<circle cx="10" cy="20" r="10" stroke="#000" fill="#fff"/>			
				<circle cx="10" cy="60" r="10" stroke="#000" fill="#fff"/>
			</g>
			<g transform="translate(140,20)">
				<line x1="10" y1="20" x2="10" y2="60" stroke="#000" stroke-width="2"/>
				<circle cx="10" cy="20" r="10" stroke="#000" fill="#fff"/>			
				<circle cx="10" cy="60" r="10" stroke="#000" fill="#fff"/>
			</g>
		</svg><br><br>

		Важное замечание: scale масштабирует вообще все параметры объекта - размеры, положение и толщину границы.
		<pre><code>
&lt;circle cx="70" cy="70" r="30" stroke="#000" fill="#fff"/&gt;
&lt;circle transform="translate(100,0), scale(1.5)" cx="70" cy="70" r="30"/&gt;
&lt;circle transform="translate(200,0), scale(2)" cx="70" cy="70" r="30"/&gt;
		</code></pre>
		<svg width="650" height="150" class="sandbox">
			<circle cx="70" cy="70" r="30" stroke="#000" fill="#fff"/>
			<circle transform="translate(100,0), scale(1.5)" cx="70" cy="70" r="30" stroke="#000" fill="#fff"/>
			<circle transform="translate(200,0), scale(2)" cx="70" cy="70" r="30" stroke="#000" fill="#fff"/>
		</svg><br><br>

		Чтобы избежать изменения положения - рисуем объект с центром в (0,0), масштабируем и переносим в нужную точку.
		<pre><code>
&lt;circle cx="70" cy="70" r="30" stroke="#000" fill="#fff"/&gt;
&lt;circle transform="translate(170,70), scale(1.5)" <span class="focus">cx="0" cy="0"</span> r="30"/&gt;
&lt;circle transform="translate(270,70), scale(2)" <span class="focus">cx="0" cy="0"</span> r="30"/&gt;
		</code></pre>
		<svg width="650" height="150" class="sandbox">
			<circle cx="70" cy="70" r="30" stroke="#000" fill="#fff"/>
			<circle transform="translate(170,70), scale(1.5)" cx="0" cy="0" r="30" stroke="#000" fill="#fff"/>
			<circle transform="translate(270,70), scale(2)" cx="0" cy="0" r="30" stroke="#000" fill="#fff"/>
		</svg><br><br>

		Это даёт возможность легко размножить объекты вокруг некой точки, аналог процедуры array во многих векторных редакторах.
		Нужно нарисовать объект с нулём координат в будущем центре вращения, и сделать несколько его копий с разным значением rotate:
		<pre><code>
&lt;g transform="<span class="focus">translate(100, 80)</span>"&gt;
	&lt;text transform="rotate(0)" <span class="focus">x="30" y="3"</span>&gt;Текст&lt;/text&gt;
	&lt;text transform="rotate(30)" <span class="focus">x="30" y="3"</span>&gt;Текст&lt;/text&gt;
	&lt;text transform="rotate(60)" <span class="focus">x="30" y="3"</span>&gt;Текст&lt;/text&gt;
	&lt;text transform="rotate(90)" <span class="focus">x="30" y="3"</span>&gt;Текст&lt;/text&gt;
	&lt;text transform="rotate(120)" <span class="focus">x="30" y="3"</span>&gt;Текст&lt;/text&gt;
	&lt;text transform="rotate(150)" <span class="focus">x="30" y="3"</span>&gt;Текст&lt;/text&gt;
	&lt;text transform="rotate(180)" <span class="focus">x="30" y="3"</span>&gt;Текст&lt;/text&gt;
	&lt;text transform="rotate(210)" <span class="focus">x="30" y="3"</span>&gt;Текст&lt;/text&gt;
	&lt;text transform="rotate(240)" <span class="focus">x="30" y="3"</span>&gt;Текст&lt;/text&gt;
	&lt;text transform="rotate(270)" <span class="focus">x="30" y="3"</span>&gt;Текст&lt;/text&gt;
	&lt;text transform="rotate(300)" <span class="focus">x="30" y="3"</span>&gt;Текст&lt;/text&gt;
	&lt;text transform="rotate(330)" <span class="focus">x="30" y="3"</span>&gt;Текст&lt;/text&gt;
&lt;/g&gt;
		</code></pre>
		<svg width="650" height="150" class="sandbox">
			<g transform="translate(100, 80)">
				<text transform="rotate(0)" x="30" y="3">Текст</text>
				<text transform="rotate(30)" x="30" y="3">Текст</text>
				<text transform="rotate(60)" x="30" y="3">Текст</text>
				<text transform="rotate(90)" x="30" y="3">Текст</text>
				<text transform="rotate(120)" x="30" y="3">Текст</text>
				<text transform="rotate(150)" x="30" y="3">Текст</text>
				<text transform="rotate(180)" x="30" y="3">Текст</text>
				<text transform="rotate(210)" x="30" y="3">Текст</text>
				<text transform="rotate(240)" x="30" y="3">Текст</text>
				<text transform="rotate(270)" x="30" y="3">Текст</text>
				<text transform="rotate(300)" x="30" y="3">Текст</text>
				<text transform="rotate(330)" x="30" y="3">Текст</text>
			</g>
		</svg><br><br>



		Порядок преобразований тоже важен, они выполняются слева направо.
		<pre><code>
&lt;circle cx="40" cy="40" r="30" stroke="#000" fill="#fff"/&gt;
&lt;circle transform="<span class="focus">translate(100,0), scale(1.5)</span>" cx="40" cy="40" r="30"/&gt;
&lt;circle transform="<span class="focus">translate(200,0), scale(2)</span>" cx="40" cy="40" r="30"/&gt;
		</code></pre>
		<svg width="650" height="150" class="sandbox">
			<circle cx="40" cy="40" r="30" stroke="#000" fill="#fff"/>
			<circle transform="translate(100,0), scale(1.5)" cx="40" cy="40" r="30" stroke="#000" fill="#fff"/>
			<circle transform="translate(200,0), scale(2)" cx="40" cy="40" r="30" stroke="#000" fill="#fff"/>
		</svg>
		<pre><code>
&lt;circle cx="40" cy="40" r="30" stroke="#000" fill="#fff"/&gt;
&lt;circle transform="<span class="focus">scale(1.5), translate(100,0)</span>" cx="40" cy="40" r="30"/&gt;
&lt;circle transform="<span class="focus">scale(2), translate(200,0)</span>" cx="40" cy="40" r="30"/&gt;
		</code></pre>
		<svg width="650" height="150" class="sandbox">
			<circle cx="40" cy="40" r="30" stroke="#000" fill="#fff"/>
			<circle transform="scale(1.5), translate(100,0)" cx="40" cy="40" r="30" stroke="#000" fill="#fff"/>
			<circle transform="scale(2), translate(200,0)" cx="40" cy="40" r="30" stroke="#000" fill="#fff"/>
		</svg><br><br>

		Особняком стоит преобразование matrix, которое применяет к объекту заданную матрицу преобразований, а по сути - объединяет все ранее описанные
		преобразования и добавляет преобразование "сдвиг".<br>
		<svg width="650" height="150" class="sandbox">
			<!-- <circle cx="70" cy="70" r="30" stroke="#000" fill="#fff"/> -->
			<circle transform="matrix(100, 5, 1.5, 1.5, -0.5, 0.5)" cx="70" cy="70" r="30" stroke="#000" fill="#fff"/>
		</svg>

		<h2>Представление</h2>
		<h3>Стили</h3>
		Атрибуты: fill (цвет заливки), stroke (цвет границы), stroke-width (ширина границы).
		Атрибутам fill и stroke можно задавать градиент, например:
		<pre><code>
&lt;linearGradient id="lineGradient" x1="0" y1="0" x2="0" y2="1"&gt;
	&lt;stop style="stop-color:#FFF096" offset="0%"/&gt;
	&lt;stop style="stop-color:#FAD954" offset="50%"/&gt;
	&lt;stop style="stop-color:#F4BE03" offset="100%"/&gt;
&lt;/linearGradient&gt;

&lt;path d="M0,0L675,0L690,30L675,60L0,60Z" style="fill:url(#lineGradient);"/&gt;
		</code></pre>
		<svg width="650" height="150" class="sandbox">
			<linearGradient id="lineGradient_fill" x1="0" y1="0" x2="0" y2="1">
				<stop style="stop-color:#FFF096" offset="0%"/>
				<stop style="stop-color:#FAD954" offset="50%"/>
				<stop style="stop-color:#F4BE03" offset="100%"/>
			</linearGradient>

			<linearGradient id="lineGradient_stroke" x1="0" y1="0" x2="0" y2="1">
				<stop style="stop-color:#F4BE03" offset="0%"/>
				<stop style="stop-color:#FAD954" offset="50%"/>
				<stop style="stop-color:#FFF096" offset="100%"/>
			</linearGradient>

			<path transform="translate(40,20)" d="M0,0L300,0L300,60L0,60Z" style="stroke:url(#lineGradient_stroke); fill:url(#lineGradient_fill); stroke-width: 20px;"/>
		</svg>
		<h3>Подключение стилей</h3>
		Применяются очень похожие на CSS стили, например:
		<pre><code>
&lt;![CDATA[
.selected {
	fill: #e33;
}
]]&gt;
		</code></pre>
	</div>
</body>

</html>